!function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){"use strict";var t=["sanitize","whiteList","sanitizeFn"],i=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],n={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},s=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function r(t,n){var r=t.nodeName.toLowerCase();if(-1!==e.inArray(r,n))return-1===e.inArray(r,i)||Boolean(t.nodeValue.match(s)||t.nodeValue.match(o));for(var l=e(n).filter(function(e,t){return t instanceof RegExp}),a=0,c=l.length;a<c;a++)if(r.match(l[a]))return!0;return!1}function l(e,t,i){if(i&&"function"==typeof i)return i(e);for(var n=Object.keys(t),s=0,o=e.length;s<o;s++)for(var l=e[s].querySelectorAll("*"),a=0,c=l.length;a<c;a++){var d=l[a],h=d.nodeName.toLowerCase();if(-1!==n.indexOf(h))for(var p=[].slice.call(d.attributes),u=[].concat(t["*"]||[],t[h]||[]),f=0,m=p.length;f<m;f++){var v=p[f];r(v,u)||d.removeAttribute(v.nodeName)}else d.parentNode.removeChild(d)}}"classList"in document.createElement("_")||function(t){if("Element"in t){var i="classList",n="prototype",s=t.Element[n],o=Object,r=function(){var t=e(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.removeClass(e)},toggle:function(e,i){return t.toggleClass(e,i)},contains:function(e){return t.hasClass(e)}}};if(o.defineProperty){var l={get:r,enumerable:!0,configurable:!0};try{o.defineProperty(s,i,l)}catch(t){void 0!==t.number&&-2146823252!==t.number||(l.enumerable=!1,o.defineProperty(s,i,l))}}else o[n].__defineGetter__&&s.__defineGetter__(i,r)}}(window);var a,c,d,h=document.createElement("_");if(h.classList.add("c1","c2"),!h.classList.contains("c2")){var p=DOMTokenList.prototype.add,u=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,p.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,u.bind(this))}}if(h.classList.toggle("c3",!1),h.classList.contains("c3")){var f=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:f.call(this,e)}}function m(e){var t,i=[],n=e.selectedOptions;if(e.multiple)for(var s=0,o=n.length;s<o;s++)t=n[s],i.push(t.value||t.text);else i=e.value;return i}h=null,String.prototype.startsWith||(a=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),c={}.toString,d=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==c.call(e))throw new TypeError;var i=t.length,n=String(e),s=n.length,o=1<arguments.length?arguments[1]:void 0,r=o?Number(o):0;r!=r&&(r=0);var l=Math.min(Math.max(r,0),i);if(i<s+l)return!1;for(var a=-1;++a<s;)if(t.charCodeAt(l+a)!=n.charCodeAt(a))return!1;return!0},a?a(String.prototype,"startsWith",{value:d,configurable:!0,writable:!0}):String.prototype.startsWith=d),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")||Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var v={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,i){return i&&!v.useDefault&&e(t).data("selected",!0),v._set.apply(this,arguments)};var g=null,b=function(){try{return new Event("change"),!0}catch(e){return!1}}();function w(e,t,i,n){for(var s=["content","subtext","tokens"],o=!1,r=0;r<s.length;r++){var l=s[r],a=e[l];if(a&&(a=a.toString(),"content"===l&&(a=a.replace(/<[^>]+>/g,"")),n&&(a=S(a)),a=a.toUpperCase(),o="contains"===i?0<=a.indexOf(t):a.startsWith(t)))break}return o}function x(e){return parseInt(e,10)||0}e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(b?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var I={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},k=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function y(e){return I[e]}function S(e){return(e=e.toString())&&e.replace(k,y).replace($,"")}var E,C,O,z,L,T=(E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=function(e){return E[e]},O="(?:"+Object.keys(E).join("|")+")",z=RegExp(O),L=RegExp(O,"g"),function(e){return e=null==e?"":""+e,z.test(e)?e.replace(L,C):e}),A={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},H={success:!1,major:"3"};try{H.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),H.major=H.full[0],H.success=!0}catch(n){console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",n)}var D=0,N=".bs.select",P={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title"},R={MENU:"."+P.MENU};"4"===H.major&&(P.DIVIDER="dropdown-divider",P.SHOW="show",P.BUTTONCLASS="btn-light",P.POPOVERHEADER="popover-header");var W={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};W.a.setAttribute("role","option"),W.subtext.className="text-muted",W.text=W.span.cloneNode(!1),W.text.className="text";var B=new RegExp("38|40"),M=new RegExp("^9$|27"),U=function(e,t,i){var n=W.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?n.appendChild(e):n.innerHTML=e),void 0!==t&&""!==t&&(n.className=t),null!=i&&n.classList.add("optgroup-"+i),n},j=function(e,t,i){var n=W.a.cloneNode(!0);return e&&(11===e.nodeType?n.appendChild(e):n.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&(n.className=t),"4"===H.major&&n.classList.add("dropdown-item"),i&&n.setAttribute("style",i),n},V=function(e,t){var i,n,s=W.text.cloneNode(!1);if(e.optionContent)s.innerHTML=e.optionContent;else{if(s.textContent=e.text,e.optionIcon){var o=W.whitespace.cloneNode(!1);(n=(!0===t?W.i:W.span).cloneNode(!1)).className=e.iconBase+" "+e.optionIcon,W.fragment.appendChild(n),W.fragment.appendChild(o)}e.optionSubtext&&((i=W.subtext.cloneNode(!1)).textContent=e.optionSubtext,s.appendChild(i))}if(!0===t)for(;0<s.childNodes.length;)W.fragment.appendChild(s.childNodes[0]);else W.fragment.appendChild(s);return W.fragment},F=function(e){var t,i,n=W.text.cloneNode(!1);if(n.innerHTML=e.labelEscaped,e.labelIcon){var s=W.whitespace.cloneNode(!1);(i=W.span.cloneNode(!1)).className=e.iconBase+" "+e.labelIcon,W.fragment.appendChild(i),W.fragment.appendChild(s)}return e.labelSubtext&&((t=W.subtext.cloneNode(!1)).textContent=e.labelSubtext,n.appendChild(t)),W.fragment.appendChild(n),W.fragment},_=function(t,i){var n=this;v.useDefault||(e.valHooks.select.set=v._set,v.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=i,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){n.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var s=this.options.windowPadding;"number"==typeof s&&(this.options.windowPadding=[s,s,s,s]),this.val=_.prototype.val,this.render=_.prototype.render,this.refresh=_.prototype.refresh,this.setStyle=_.prototype.setStyle,this.selectAll=_.prototype.selectAll,this.deselectAll=_.prototype.deselectAll,this.destroy=_.prototype.destroy,this.remove=_.prototype.remove,this.show=_.prototype.show,this.hide=_.prototype.hide,this.init()};function q(i){var n,s=arguments,o=i;if([].shift.apply(s),!H.success){try{H.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(i){H.full=_.BootstrapVersion.split(" ")[0].split(".")}H.major=H.full[0],H.success=!0,"4"===H.major&&(P.DIVIDER="dropdown-divider",P.SHOW="show",P.BUTTONCLASS="btn-light",_.DEFAULTS.style=P.BUTTONCLASS="btn-light",P.POPOVERHEADER="popover-header")}var r=this.each(function(){var i=e(this);if(i.is("select")){var r=i.data("selectpicker"),l="object"==typeof o&&o;if(r){if(l)for(var a in l)l.hasOwnProperty(a)&&(r.options[a]=l[a])}else{var c=i.data();for(var d in c)c.hasOwnProperty(d)&&-1!==e.inArray(d,t)&&delete c[d];var h=e.extend({},_.DEFAULTS,e.fn.selectpicker.defaults||{},c,l);h.template=e.extend({},_.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},c.template,l.template),i.data("selectpicker",r=new _(this,h))}"string"==typeof o&&(n=r[o]instanceof Function?r[o].apply(r,s):r.options[o])}});return void 0!==n?n:r}_.VERSION="1.13.7",_.BootstrapVersion=H.major,_.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:P.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},"4"===H.major&&(_.DEFAULTS.style="btn-light",_.DEFAULTS.iconBase="",_.DEFAULTS.tickIcon="bs-ok-default"),_.prototype={constructor:_,init:function(){var e=this,t=this.$element.attr("id");this.selectId=D++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(R.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(P.MENURIGHT),void 0!==t&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+N,function(){if(e.isVirtual()){var t=e.$menuInner[0],i=t.firstChild.cloneNode(!1);t.replaceChild(i,t.firstChild),t.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide"+N,t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden"+N,t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show"+N,t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown"+N,t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button[0].classList.add("bs-invalid"),e.$element.on("shown"+N+".invalid",function(){e.$element.val(e.$element.val()).off("shown"+N+".invalid")}).on("rendered"+N,function(){this.validity.valid&&e.$button[0].classList.remove("bs-invalid"),e.$element.off("rendered"+N)}),e.$button.on("blur"+N,function(){e.$element.trigger("focus").trigger("blur"),e.$button.off("blur"+N)})}),setTimeout(function(){e.createLi(),e.$element.trigger("loaded"+N)})},createDropdown:function(){var t,i=this.multiple||this.options.showTick?" show-tick":"",n=this.autofocus?" autofocus":"",s="",o="",r="",l="";return this.options.header&&(s='<div class="'+P.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(o='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+T(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(r='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+P.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+P.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+P.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),t='<div class="dropdown bootstrap-select'+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle form-control" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+n+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===H.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+P.MENU+" "+("4"===H.major?"":P.SHOW)+'" role="combobox">'+s+o+r+'<div class="inner '+P.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+P.MENU+" inner "+("4"===H.major?P.SHOW:"")+'"></ul></div>'+l+"</div></div>",e(t)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,i){i=i||0;var n=this;this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main;var s,o,r=[];function a(e,i){var a,c,d,h,p,u,f,m,v,g,b=n.selectpicker.current.elements.length,w=[],x=!0,I=n.isVirtual();n.selectpicker.view.scrollTop=e,!0===I&&n.sizeInfo.hasScrollBar&&n.$menu[0].offsetWidth>n.sizeInfo.totalMenuWidth&&(n.sizeInfo.menuWidth=n.$menu[0].offsetWidth,n.sizeInfo.totalMenuWidth=n.sizeInfo.menuWidth+n.sizeInfo.scrollBarWidth,n.$menu.css("min-width",n.sizeInfo.menuWidth)),a=Math.ceil(n.sizeInfo.menuInnerHeight/n.sizeInfo.liHeight*1.5),c=Math.round(b/a)||1;for(var k=0;k<c;k++){var $=(k+1)*a;if(k===c-1&&($=b),w[k]=[k*a+(k?1:0),$],!b)break;void 0===p&&e<=n.selectpicker.current.data[$-1].position-n.sizeInfo.menuInnerHeight&&(p=k)}if(void 0===p&&(p=0),u=[n.selectpicker.view.position0,n.selectpicker.view.position1],d=Math.max(0,p-1),h=Math.min(c-1,p+1),n.selectpicker.view.position0=Math.max(0,w[d][0])||0,n.selectpicker.view.position1=Math.min(b,w[h][1])||0,f=u[0]!==n.selectpicker.view.position0||u[1]!==n.selectpicker.view.position1,void 0!==n.activeIndex&&(o=n.selectpicker.current.elements[n.selectpicker.current.map.newIndex[n.prevActiveIndex]],r=n.selectpicker.current.elements[n.selectpicker.current.map.newIndex[n.activeIndex]],s=n.selectpicker.current.elements[n.selectpicker.current.map.newIndex[n.selectedIndex]],i&&(n.activeIndex!==n.selectedIndex&&r&&r.length&&(r.classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active")),n.activeIndex=void 0),n.activeIndex&&n.activeIndex!==n.selectedIndex&&s&&s.length&&(s.classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active"))),void 0!==n.prevActiveIndex&&n.prevActiveIndex!==n.activeIndex&&n.prevActiveIndex!==n.selectedIndex&&o&&o.length&&(o.classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active")),(i||f)&&(m=n.selectpicker.view.visibleElements?n.selectpicker.view.visibleElements.slice():[],n.selectpicker.view.visibleElements=n.selectpicker.current.elements.slice(n.selectpicker.view.position0,n.selectpicker.view.position1),n.setOptionStatus(),(t||!1===I&&i)&&(v=m,g=n.selectpicker.view.visibleElements,x=!(v.length===g.length&&v.every(function(e,t){return e===g[t]}))),(i||!0===I)&&x)){var y,S,E=n.$menuInner[0],C=document.createDocumentFragment(),O=E.firstChild.cloneNode(!1),z=!0===I?n.selectpicker.view.visibleElements:n.selectpicker.current.elements,L=[];E.replaceChild(O,E.firstChild),k=0;for(var T=z.length;k<T;k++){var A,H,D=z[k];n.options.sanitize&&(A=D.lastChild)&&(H=n.selectpicker.current.data[k+n.selectpicker.view.position0].data)&&H.content&&!H.sanitized&&(L.push(A),H.sanitized=!0),C.appendChild(D)}n.options.sanitize&&L.length&&l(L,n.options.whiteList,n.options.sanitizeFn),!0===I&&(y=0===n.selectpicker.view.position0?0:n.selectpicker.current.data[n.selectpicker.view.position0-1].position,S=n.selectpicker.view.position1>b-1?0:n.selectpicker.current.data[b-1].position-n.selectpicker.current.data[n.selectpicker.view.position1-1].position,E.firstChild.style.marginTop=y+"px",E.firstChild.style.marginBottom=S+"px"),E.firstChild.appendChild(C)}if(n.prevActiveIndex=n.activeIndex,n.options.liveSearch){if(t&&i){var N,P=0;n.selectpicker.view.canHighlight[P]||(P=1+n.selectpicker.view.canHighlight.slice(1).indexOf(!0)),N=n.selectpicker.view.visibleElements[P],n.selectpicker.view.currentActive&&(n.selectpicker.view.currentActive.classList.remove("active"),n.selectpicker.view.currentActive.firstChild&&n.selectpicker.view.currentActive.firstChild.classList.remove("active")),N&&(N.classList.add("active"),N.firstChild&&N.firstChild.classList.add("active")),n.activeIndex=n.selectpicker.current.map.originalIndex[P]}}else n.$menuInner.trigger("focus")}this.setPositionData(),a(i,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){n.noScroll||a(this.scrollTop,t),n.noScroll=!1}),e(window).off("resize"+N+"."+this.selectId+".createView").on("resize"+N+"."+this.selectId+".createView",function(){n.$newElement.hasClass(P.SHOW)&&a(n.$menuInner[0].scrollTop)})},setPlaceholder:function(){var t=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),t=!0;var i=this.$element[0],n=!1,s=!this.selectpicker.view.titleOption.parentNode;s&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",n=void 0===e(i.options[i.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),(s||0!==this.selectpicker.view.titleOption.index)&&i.insertBefore(this.selectpicker.view.titleOption,i.firstChild),n&&(i.selectedIndex=0)}return t},createLi:function(){var e,t,i=this,n=i.options.iconBase,s=':not([hidden]):not([data-hidden="true"])',o=[],r=0,l=[],a=0,c=0,d=-1;this.options.hideDisabled&&(s+=":not(:disabled)"),(i.options.showTick||i.multiple)&&((e=W.span.cloneNode(!1)).className=n+" "+i.options.tickIcon+" check-mark",W.a.appendChild(e)),this.setPlaceholder()&&d--;for(var h=this.$element[0].options,p=0,u=h.length;p<u;p++){var f=h[p];if(d++,!f.classList.contains("bs-title-option")){var m,v,g,b,w={content:f.getAttribute("data-content"),tokens:f.getAttribute("data-tokens"),subtext:f.getAttribute("data-subtext"),icon:f.getAttribute("data-icon"),hidden:"true"===f.getAttribute("data-hidden"),divider:"true"===f.getAttribute("data-divider")},x=f.className||"",I=f.style.cssText,k=I?T(I):"",$=w.content,y=f.textContent,S=f.parentNode,E=f.nextElementSibling,C=f.previousElementSibling,O="OPTGROUP"===S.tagName,z=O&&S.disabled,L=f.disabled||z,A=C&&"OPTGROUP"===C.tagName,H={hidden:"true"===S.getAttribute("data-hidden")};if(!0===w.hidden||f.hidden||O&&(!0===H.hidden||S.hidden)||i.options.hideDisabled&&(L||z))m=f.prevHiddenIndex,E&&(E.prevHiddenIndex=void 0!==m?m:p),d--;else{if(E&&void 0!==E.prevHiddenIndex&&(E.prevHiddenIndex=void 0),O&&!0!==w.divider){var D=" "+S.className||"",N=f.previousElementSibling;if(void 0!==(m=f.prevHiddenIndex)&&(N=h[m].previousElementSibling),!N){a+=1,H.subtext=S.getAttribute("data-subtext"),H.icon=S.getAttribute("data-icon");var R=S.label,B=T(R),M=H.subtext,_=H.icon;0!==p&&0<o.length&&(d++,o.push(U(!1,P.DIVIDER,a+"div")),l.push({type:"divider",optID:a})),d++,g=F({labelEscaped:B,labelSubtext:M,labelIcon:_,iconBase:n}),o.push(U(g,"dropdown-header"+D,a)),l.push({content:B,subtext:M,type:"optgroup-label",optID:a}),c=d-1}v=V({text:y,optionContent:$,optionSubtext:w.subtext,optionIcon:w.icon,iconBase:n}),o.push(U(j(v,"opt "+x+D,k),"",a)),l.push({content:$||y,subtext:w.subtext,tokens:w.tokens,type:"option",optID:a,headerIndex:c,lastIndex:c+S.querySelectorAll("option"+s).length,originalIndex:p,data:w})}else!0===w.divider?(o.push(U(!1,P.DIVIDER)),l.push({type:"divider",originalIndex:p,data:w})):(i.options.hideDisabled&&(A?C.querySelectorAll("option:disabled").length===C.children.length&&(A=!1):void 0!==(m=f.prevHiddenIndex)&&(b=h[m].previousElementSibling)&&"OPTGROUP"===b.tagName&&!b.disabled&&b.querySelectorAll("option:disabled").length<b.children.length&&(A=!0)),A&&l.length&&"divider"!==l[l.length-1].type&&(d++,o.push(U(!1,P.DIVIDER,a+"div")),l.push({type:"divider",optID:a})),v=V({text:y,optionContent:$,optionSubtext:w.subtext,optionIcon:w.icon,iconBase:n}),o.push(U(j(v,x,k))),l.push({content:$||y,subtext:w.subtext,tokens:w.tokens,type:"option",originalIndex:p,data:w}));i.selectpicker.main.map.newIndex[p]=d,i.selectpicker.main.map.originalIndex[d]=p;var q=l[l.length-1];q.disabled=L;var G=0;q.content&&(G+=q.content.length),q.subtext&&(G+=q.subtext.length),w.icon&&(G+=1),r<G&&(r=G,t=o[o.length-1])}}}this.selectpicker.main.elements=o,this.selectpicker.main.data=l,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=t},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var e,t,i=this,n=this.$element[0].selectedOptions,s=n.length,o=this.$button[0],r=o.querySelector(".filter-option-inner-inner"),a=document.createTextNode(this.options.multipleSeparator),c=W.fragment.cloneNode(!1),d=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)c=V({text:this.options.title},!0);else if((e=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<s)&&(e=1<(t=this.options.selectedTextFormat.split(">")).length&&s>t[1]||1===t.length&&2<=s),!1===e){for(var h=0;h<s&&h<50;h++){var p=n[h],u={},f={content:p.getAttribute("data-content"),subtext:p.getAttribute("data-subtext"),icon:p.getAttribute("data-icon")};this.multiple&&0<h&&c.appendChild(a.cloneNode(!1)),p.title?u.text=p.title:f.content&&i.options.showContent?(u.optionContent=f.content.toString(),d=!0):(i.options.showIcon&&(u.optionIcon=f.icon,u.iconBase=this.options.iconBase),i.options.showSubtext&&!i.multiple&&f.subtext&&(u.optionSubtext=" "+f.subtext),u.text=p.textContent.trim()),c.appendChild(V(u,!0))}49<s&&c.appendChild(document.createTextNode("..."))}else{var m=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(m+=":not(:disabled)");var v=this.$element[0].querySelectorAll("select > option"+m+", optgroup"+m+" option"+m).length,g="function"==typeof this.options.countSelectedText?this.options.countSelectedText(s,v):this.options.countSelectedText;c=V({text:g.replace("{0}",s.toString()).replace("{1}",v.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),c.childNodes.length||(c=V({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),o.title=c.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&d&&l([c],i.options.whiteList,i.options.sanitizeFn),r.innerHTML="",r.appendChild(c),H.major<4&&this.$newElement[0].parentNode.classList.contains("input-group")){var b=o.querySelector(".filter-expand"),w=r.cloneNode(!0);w.className="filter-expand",b?o.replaceChild(w,b):o.appendChild(w)}this.$element.trigger("rendered"+N)},setStyle:function(e,t){var i,n=this.$button[0],s=this.options.style.split(" ");this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),H.major<4&&this.$newElement[0].classList.add("bs3"),i=e?e.split(" "):s,"add"==t?n.classList.add.apply(n.classList,i):"remove"==t?n.classList.remove.apply(n.classList,i):(n.classList.remove.apply(n.classList,s),n.classList.add.apply(n.classList,i))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("ul"),r=document.createElement("li"),l=document.createElement("li"),a=document.createElement("li"),c=document.createElement("a"),d=document.createElement("span"),h=this.options.header&&0<this.$menu.find("."+P.POPOVERHEADER).length?this.$menu.find("."+P.POPOVERHEADER)[0].cloneNode(!0):null,p=this.options.liveSearch?document.createElement("div"):null,u=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,f=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,m=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,d.className="text",c.className="dropdown-item "+(m?m.className:""),i.className=this.$menu[0].parentNode.className+" "+P.SHOW,i.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(n.style.minWidth=0),n.className=P.MENU+" "+P.SHOW,s.className="inner "+P.SHOW,o.className=P.MENU+" inner "+("4"===H.major?P.SHOW:""),r.className=P.DIVIDER,l.className="dropdown-header",d.appendChild(document.createTextNode("​")),c.appendChild(d),a.appendChild(c),l.appendChild(d.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(a),o.appendChild(r),o.appendChild(l),h&&n.appendChild(h),p){var v=document.createElement("input");p.className="bs-searchbox",v.className="form-control",p.appendChild(v),n.appendChild(p)}u&&n.appendChild(u),s.appendChild(o),n.appendChild(s),f&&n.appendChild(f),i.appendChild(n),document.body.appendChild(i);var g,b=c.offsetHeight,w=l?l.offsetHeight:0,I=h?h.offsetHeight:0,k=p?p.offsetHeight:0,$=u?u.offsetHeight:0,y=f?f.offsetHeight:0,S=e(r).outerHeight(!0),E=!!window.getComputedStyle&&window.getComputedStyle(n),C=n.offsetWidth,O=E?null:e(n),z={vert:x(E?E.paddingTop:O.css("paddingTop"))+x(E?E.paddingBottom:O.css("paddingBottom"))+x(E?E.borderTopWidth:O.css("borderTopWidth"))+x(E?E.borderBottomWidth:O.css("borderBottomWidth")),horiz:x(E?E.paddingLeft:O.css("paddingLeft"))+x(E?E.paddingRight:O.css("paddingRight"))+x(E?E.borderLeftWidth:O.css("borderLeftWidth"))+x(E?E.borderRightWidth:O.css("borderRightWidth"))},L={vert:z.vert+x(E?E.marginTop:O.css("marginTop"))+x(E?E.marginBottom:O.css("marginBottom"))+2,horiz:z.horiz+x(E?E.marginLeft:O.css("marginLeft"))+x(E?E.marginRight:O.css("marginRight"))+2};s.style.overflowY="scroll",g=n.offsetWidth-C,document.body.removeChild(i),this.sizeInfo.liHeight=b,this.sizeInfo.dropdownHeaderHeight=w,this.sizeInfo.headerHeight=I,this.sizeInfo.searchHeight=k,this.sizeInfo.actionsHeight=$,this.sizeInfo.doneButtonHeight=y,this.sizeInfo.dividerHeight=S,this.sizeInfo.menuPadding=z,this.sizeInfo.menuExtras=L,this.sizeInfo.menuWidth=C,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=g,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,i=e(window),n=this.$newElement.offset(),s=e(this.options.container);this.options.container&&s.length&&!s.is("body")?((t=s.offset()).top+=parseInt(s.css("borderTopWidth")),t.left+=parseInt(s.css("borderLeftWidth"))):t={top:0,left:0};var o=this.options.windowPadding;this.sizeInfo.selectOffsetTop=n.top-t.top-i.scrollTop(),this.sizeInfo.selectOffsetBot=i.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-o[2],this.sizeInfo.selectOffsetLeft=n.left-t.left-i.scrollLeft(),this.sizeInfo.selectOffsetRight=i.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-o[1],this.sizeInfo.selectOffsetTop-=o[0],this.sizeInfo.selectOffsetLeft-=o[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,n,s,o,r,l,a=this.sizeInfo.selectWidth,c=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,h=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,v=0;if(this.options.dropupAuto&&(l=c*this.selectpicker.current.elements.length+m.vert,this.$newElement.toggleClass(P.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&l+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)s=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,n=s+d+h+p+u,r=Math.max(s-m.vert,0),this.$newElement.hasClass(P.DROPUP)&&(i=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),t=(o=i)-d-h-p-u-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&v++;t=(i=c*this.options.size+v*f+m.vert)-m.vert,o=i+d+h+p+u,n=r=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(P.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-a),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":n+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":r+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var i,n=this,s=e(window),o=0;this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return n.setMenuSize()}),"auto"===this.options.size?s.off("resize"+N+"."+this.selectId+".setMenuSize scroll"+N+"."+this.selectId+".setMenuSize").on("resize"+N+"."+this.selectId+".setMenuSize scroll"+N+"."+this.selectId+".setMenuSize",function(){return n.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&s.off("resize"+N+"."+this.selectId+".setMenuSize scroll"+N+"."+this.selectId+".setMenuSize"),t?o=this.$menuInner[0].scrollTop:n.multiple||"number"==typeof(i=n.selectpicker.main.map.newIndex[n.$element[0].selectedIndex])&&!1!==n.options.size&&(o=(o=n.sizeInfo.liHeight*i)-n.sizeInfo.menuInnerHeight/2+n.sizeInfo.liHeight/2),n.createView(!1,o)}},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.$element.on("loaded"+N,function(){e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,i),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,i,n,s=this,o=e(this.options.container),r=function(r){var l={},a=s.options.display||!!e.fn.dropdown.Constructor.Default&&e.fn.dropdown.Constructor.Default.display;s.$bsContainer.addClass(r.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(P.DROPUP,r.hasClass(P.DROPUP)),t=r.offset(),o.is("body")?i={top:0,left:0}:((i=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),i.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),n=r.hasClass(P.DROPUP)?0:r[0].offsetHeight,(H.major<4||"static"===a)&&(l.top=t.top-i.top+n,l.left=t.left-i.left),l.width=r[0].offsetWidth,s.$bsContainer.css(l)};this.$button.on("click.bs.dropdown.data-api",function(){s.isDisabled()||(r(s.$newElement),s.$bsContainer.appendTo(s.options.container).toggleClass(P.SHOW,!s.$button.hasClass(P.SHOW)).append(s.$menu))}),e(window).off("resize"+N+"."+this.selectId+" scroll"+N+"."+this.selectId).on("resize"+N+"."+this.selectId+" scroll"+N+"."+this.selectId,function(){s.$newElement.hasClass(P.SHOW)&&r(s.$newElement)}),this.$element.on("hide"+N,function(){s.$menu.data("height",s.$menu.height()),s.$bsContainer.detach()})},setOptionStatus:function(){var e=this,t=this.$element[0].options;if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var i=0;i<e.selectpicker.view.visibleElements.length;i++){var n=e.selectpicker.current.map.originalIndex[i+e.selectpicker.view.position0],s=t[n];if(s){var o=this.selectpicker.main.map.newIndex[n],r=this.selectpicker.main.elements[o];e.setDisabled(n,s.disabled||"OPTGROUP"===s.parentNode.tagName&&s.parentNode.disabled,o,r),e.setSelected(n,s.selected,o,r)}}},setSelected:function(e,t,i,n){var s,o,r,l=void 0!==this.activeIndex,a=this.activeIndex===e||t&&!this.multiple&&!l;i||(i=this.selectpicker.main.map.newIndex[e]),n||(n=this.selectpicker.main.elements[i]),r=n.firstChild,t&&(this.selectedIndex=e),n.classList.toggle("selected",t),n.classList.toggle("active",a),a&&(this.selectpicker.view.currentActive=n,this.activeIndex=e),r&&(r.classList.toggle("selected",t),r.classList.toggle("active",a),r.setAttribute("aria-selected",t)),a||!l&&t&&void 0!==this.prevActiveIndex&&(s=this.selectpicker.main.map.newIndex[this.prevActiveIndex],(o=this.selectpicker.main.elements[s]).classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active"))},setDisabled:function(e,t,i,n){var s;i||(i=this.selectpicker.main.map.newIndex[e]),n||(n=this.selectpicker.main.elements[i]),s=n.firstChild,n.classList.toggle(P.DISABLED,t),s&&("4"===H.major&&s.classList.toggle(P.DISABLED,t),s.setAttribute("aria-disabled",t),t?s.setAttribute("tabindex",-1):s.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement[0].classList.add(P.DISABLED),this.$button.addClass(P.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(P.DISABLED)&&(this.$newElement[0].classList.remove(P.DISABLED),this.$button.removeClass(P.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,i=-1===t;i||e.options[t].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,i=e(document);function n(){t.options.liveSearch?t.$searchbox.trigger("focus"):t.$menuInner.trigger("focus")}function s(){t.dropdown&&t.dropdown._popper&&t.dropdown._popper.state.isCreated?n():requestAnimationFrame(s)}i.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<H.major&&!t.dropdown&&(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){t.$newElement.hasClass(P.SHOW)||t.setSize()}),this.$element.on("shown"+N,function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),3<H.major?requestAnimationFrame(s):n()}),this.$menuInner.on("click","li a",function(i,n){var s=e(this),o=t.isVirtual()?t.selectpicker.view.position0:0,r=t.selectpicker.current.map.originalIndex[s.parent().index()+o],l=m(t.$element[0]),a=t.$element.prop("selectedIndex"),c=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!s.parent().hasClass(P.DISABLED)){var d=t.$element.find("option"),h=d.eq(r),p=h.prop("selected"),u=h.parent("optgroup"),f=u.find("option"),v=t.options.maxOptions,b=u.data("maxOptions")||!1;if(r===t.activeIndex&&(n=!0),n||(t.prevActiveIndex=t.activeIndex,t.activeIndex=void 0),t.multiple){if(h.prop("selected",!p),t.setSelected(r,!p),s.trigger("blur"),!1!==v||!1!==b){var w=v<d.filter(":selected").length,x=b<u.find("option:selected").length;if(v&&w||b&&x)if(v&&1==v){d.prop("selected",!1),h.prop("selected",!0);for(var I=0;I<d.length;I++)t.setSelected(I,!1);t.setSelected(r,!0)}else if(b&&1==b){for(u.find("option:selected").prop("selected",!1),h.prop("selected",!0),I=0;I<f.length;I++){var k=f[I];t.setSelected(d.index(k),!1)}t.setSelected(r,!0)}else{var $="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,y="function"==typeof $?$(v,b):$,S=y[0].replace("{n}",v),E=y[1].replace("{n}",b),C=e('<div class="notify"></div>');y[2]&&(S=S.replace("{var}",y[2][1<v?0:1]),E=E.replace("{var}",y[2][1<b?0:1])),h.prop("selected",!1),t.$menu.append(C),v&&w&&(C.append(e("<div>"+S+"</div>")),c=!1,t.$element.trigger("maxReached"+N)),b&&x&&(C.append(e("<div>"+E+"</div>")),c=!1,t.$element.trigger("maxReachedGrp"+N)),setTimeout(function(){t.setSelected(r,!1)},10),C.delay(750).fadeOut(300,function(){e(this).remove()})}}}else d.prop("selected",!1),h.prop("selected",!0),t.setSelected(r,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.trigger("focus"):t.options.liveSearch&&t.$searchbox.trigger("focus"),c&&(l!=m(t.$element[0])&&t.multiple||a!=t.$element.prop("selectedIndex")&&!t.multiple)&&(g=[r,h.prop("selected"),l],t.$element.triggerNative("change"))}}),this.$menu.on("click","li."+P.DISABLED+" a, ."+P.POPOVERHEADER+", ."+P.POPOVERHEADER+" :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox.trigger("focus"):t.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.trigger("focus"):t.$button.trigger("focus")}),this.$menu.on("click","."+P.POPOVERHEADER+" .close",function(){t.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){t.options.liveSearch?t.$searchbox.trigger("focus"):t.$button.trigger("focus"),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.on({change:function(){t.render(),t.$element.trigger("changed"+N,g),g=null},focus:function(){t.options.mobile||t.$button.trigger("focus")}})},liveSearchListener:function(){var e=this,t=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){e.$searchbox.val()&&e.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var i=e.$searchbox.val();if(e.selectpicker.search.map.newIndex={},e.selectpicker.search.map.originalIndex={},e.selectpicker.search.elements=[],e.selectpicker.search.data=[],i){var n=[],s=i.toUpperCase(),o={},r=[],l=e._searchStyle(),a=e.options.liveSearchNormalize;a&&(s=S(s)),e._$lisSelected=e.$menuInner.find(".selected");for(var c=0;c<e.selectpicker.main.data.length;c++){var d=e.selectpicker.main.data[c];o[c]||(o[c]=w(d,s,l,a)),o[c]&&void 0!==d.headerIndex&&-1===r.indexOf(d.headerIndex)&&(0<d.headerIndex&&(o[d.headerIndex-1]=!0,r.push(d.headerIndex-1)),o[d.headerIndex]=!0,r.push(d.headerIndex),o[d.lastIndex+1]=!0),o[c]&&"optgroup-label"!==d.type&&r.push(c)}c=0;for(var h=r.length;c<h;c++){var p=r[c],u=r[c-1],f=(d=e.selectpicker.main.data[p],e.selectpicker.main.data[u]);("divider"!==d.type||"divider"===d.type&&f&&"divider"!==f.type&&h-1!==c)&&(e.selectpicker.search.data.push(d),n.push(e.selectpicker.main.elements[p]),d.hasOwnProperty("originalIndex")&&(e.selectpicker.search.map.newIndex[d.originalIndex]=n.length-1,e.selectpicker.search.map.originalIndex[n.length-1]=d.originalIndex))}e.activeIndex=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=n,e.createView(!0),n.length||(t.className="no-results",t.innerHTML=e.options.noneResultsText.replace("{0}",'"'+T(i)+'"'),e.$menuInner[0].firstChild.appendChild(t))}else e.$menuInner.scrollTop(0),e.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){return void 0!==e?(this.$element.val(e).trigger("changed"+N,g),this.render(),g=null,this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=t.options,n=0,s=0,o=m(t);t.classList.add("bs-select-hidden");for(var r=0,l=this.selectpicker.current.elements.length;r<l;r++){var a=this.selectpicker.current.data[r],c=i[this.selectpicker.current.map.originalIndex[r]];c&&!c.disabled&&"divider"!==a.type&&(c.selected&&n++,(c.selected=e)&&s++)}t.classList.remove("bs-select-hidden"),n!==s&&(this.setOptionStatus(),this.togglePlaceholder(),g=[null,null,o],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var i,n,s,o,r,l=e(this),a=l.hasClass("dropdown-toggle"),c=(a?l.closest(".dropdown"):l.closest(R.MENU)).data("this"),d=c.findLis(),h=!1,p=9===t.which&&!a&&!c.options.selectOnTab,u=B.test(t.which)||p,f=c.$menuInner[0].scrollTop,m=c.isVirtual(),v=!0===m?c.selectpicker.view.position0:0;if(!(n=c.$newElement.hasClass(P.SHOW))&&(u||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105||65<=t.which&&t.which<=90)&&(c.$button.trigger("click.bs.dropdown.data-api"),c.options.liveSearch))c.$searchbox.trigger("focus");else{if(27===t.which&&n&&(t.preventDefault(),c.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),u){if(!d.length)return;void 0===(i=!0===m?d.index(d.filter(".active")):c.selectpicker.current.map.newIndex[c.activeIndex])&&(i=-1),-1!==i&&((s=c.selectpicker.current.elements[i+v]).classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),38===t.which?(-1!==i&&i--,i+v<0&&(i+=d.length),c.selectpicker.view.canHighlight[i+v]||-1==(i=c.selectpicker.view.canHighlight.slice(0,i+v).lastIndexOf(!0)-v)&&(i=d.length-1)):(40===t.which||p)&&(++i+v>=c.selectpicker.view.canHighlight.length&&(i=0),c.selectpicker.view.canHighlight[i+v]||(i=i+1+c.selectpicker.view.canHighlight.slice(i+v+1).indexOf(!0))),t.preventDefault();var g=v+i;38===t.which?0===v&&i===d.length-1?(c.$menuInner[0].scrollTop=c.$menuInner[0].scrollHeight,g=c.selectpicker.current.elements.length-1):h=(r=(o=c.selectpicker.current.data[g]).position-o.height)<f:(40===t.which||p)&&(0===i?g=c.$menuInner[0].scrollTop=0:h=f<(r=(o=c.selectpicker.current.data[g]).position-c.sizeInfo.menuInnerHeight)),(s=c.selectpicker.current.elements[g])&&(s.classList.add("active"),s.firstChild&&s.firstChild.classList.add("active")),c.activeIndex=c.selectpicker.current.map.originalIndex[g],c.selectpicker.view.currentActive=s,h&&(c.$menuInner[0].scrollTop=r),c.options.liveSearch?c.$searchbox.trigger("focus"):l.trigger("focus")}else if(!l.is("input")&&!M.test(t.which)||32===t.which&&c.selectpicker.keydown.keyHistory){var b,x,I=[];t.preventDefault(),c.selectpicker.keydown.keyHistory+=A[t.which],c.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(c.selectpicker.keydown.resetKeyHistory.cancel),c.selectpicker.keydown.resetKeyHistory.cancel=c.selectpicker.keydown.resetKeyHistory.start(),x=c.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(x)&&(x=x.charAt(0));for(var k=0;k<c.selectpicker.current.data.length;k++){var $=c.selectpicker.current.data[k];w($,x,"startsWith",!0)&&c.selectpicker.view.canHighlight[k]&&($.index=k,I.push($.originalIndex))}if(I.length){var y=0;d.removeClass("active").find("a").removeClass("active"),1===x.length&&(-1===(y=I.indexOf(c.activeIndex))||y===I.length-1?y=0:y++),b=c.selectpicker.current.map.newIndex[I[y]],h=0<f-(o=c.selectpicker.current.data[b]).position?(r=o.position-o.height,!0):(r=o.position-c.sizeInfo.menuInnerHeight,o.position>f+c.sizeInfo.menuInnerHeight),(s=c.selectpicker.current.elements[b]).classList.add("active"),s.firstChild&&s.firstChild.classList.add("active"),c.activeIndex=I[y],s.firstChild.focus(),h&&(c.$menuInner[0].scrollTop=r),l.trigger("focus")}}n&&(32===t.which&&!c.selectpicker.keydown.keyHistory||13===t.which||9===t.which&&c.options.selectOnTab)&&(32!==t.which&&t.preventDefault(),c.options.liveSearch&&32===t.which||(c.$menuInner.find(".active a").trigger("click",!0),l.trigger("focus"),c.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var t=e.extend({},this.options,this.$element.data());this.options=t,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+N)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(N).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),e(window).off(N+"."+this.selectId)}};var G=e.fn.selectpicker;e.fn.selectpicker=q,e.fn.selectpicker.Constructor=_,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=G,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown"+N,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',_.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load"+N+".data-api",function(){e(".selectpicker").each(function(){var t=e(this);q.call(t,t.data())})})}(e)});